/*
  Custom global styles for Nima T. Bazargani
  Theme: Futuristic dark / blue / cyan with subtle glow
  File: assets/css/extended/blank.css
*/

/* ===========================================================
   0. GLOBAL COLOR VARIABLES
   =========================================================== */

:root,
:root[data-theme="light"],
:root[data-theme="dark"] {
    /* Brand palette */
    --nb-bg:        #020617;          /* deep slate / near-black */
    --nb-surface:   rgba(15,23,42,0.96);
    --nb-surface-soft: rgba(15,23,42,0.90);
    --nb-text:      #e5e7eb;
    --nb-heading:   #f9fafb;
    --nb-blue:      #38bdf8;          /* electric cyan/blue */
    --nb-blue-soft: #7dd3fc;
    --nb-gold:      #facc15;          /* accent gold */
    --nb-border:    #1e293b;

    /* Map into PaperMod core tokens */
    --theme:   var(--nb-bg);
    --entry:   #020617;
    --primary: var(--nb-blue);
    --content: var(--nb-text);
    --hljs-bg: #020617;
}

/* ===========================================================
   1. GLOBAL BACKGROUND & TYPOGRAPHY
   =========================================================== */

body {
    background-color: var(--nb-bg) !important;
    color: var(--nb-text);
    font-family: system-ui, -apple-system, BlinkMacSystemFont,
                 "Inter", "Roboto", "Segoe UI", sans-serif;
    line-height: 1.9;
    font-size: 1rem;
    margin: 0;
}

/* Make the main content column wider on desktop */
.main {
    max-width: 1180px;   /* was ~900px in PaperMod */
    margin: 0 auto;
    padding: 1.5rem 1.5rem 3rem;
}

/* Let PaperMod content float on dark space */
.main,
.main .page,
.main .post,
.main .single {
    background: transparent !important;
}

/* Card-style containers (posts, pages) */
.post-entry,
.single .post-content,
.page .post-content,
.list .post-entry {
    background: var(--nb-surface);
    border-radius: 16px;
    box-shadow: 0 18px 40px rgba(0,0,0,0.72);
    border: 1px solid rgba(148,163,184,0.12);
    transition:
        transform 0.18s ease-out,
        box-shadow 0.18s ease-out,
        border-color 0.18s ease-out;
}

/* Slight hover lift for cards on lists (desktop mainly) */
.post-entry:hover {
    transform: translateY(-2px);
    box-shadow: 0 24px 55px rgba(0,0,0,0.82);
    border-color: rgba(56,189,248,0.45);
}

/* Heading hierarchy */
h1, h2, h3, h4, h5, h6 {
    color: var(--nb-heading);
    letter-spacing: 0.04em;
    line-height: 1.4;
    font-weight: 700;
    margin-top: 0;
}

/* Slightly more futuristic look for h1/h2 */
h1 {
    font-size: 2rem;
    text-shadow: 0 0 18px rgba(56,189,248,0.5);
}
h2 {
    font-size: 1.45rem;
    text-shadow: 0 0 10px rgba(15,23,42,0.9);
}

p, li, span {
    color: var(--nb-text);
}

/* Generic image safety: never overflow */
img {
    max-width: 100%;
    height: auto;
}

/* ===========================================================
   2. LINKS & INTERACTIVE ELEMENTS
   =========================================================== */

a {
    color: var(--nb-blue);
    text-decoration: none;
    transition:
        color 0.18s ease,
        text-shadow 0.18s ease,
        border-color 0.18s ease,
        background-color 0.18s ease;
}

a:hover {
    color: var(--nb-blue-soft);
    text-shadow: 0 0 10px rgba(56,189,248,0.7);
}

/* Emphasis */
strong, em {
    color: var(--nb-heading);
}

/* Accent helpers */
.accent-blue {
    color: var(--nb-blue) !important;
    font-weight: 600;
}
.glow-blue {
    color: var(--nb-blue) !important;
    text-shadow: 0 0 12px rgba(56,189,248,0.8);
}
.accent-gold {
    color: var(--nb-gold) !important;
    font-weight: 600;
}

/* ===========================================================
   3. HOMEPAGE TITLE & HEADER
   =========================================================== */

/* Homepage main title */
.home h1 {
    font-size: 2.4rem;
    color: var(--nb-blue) !important;
    text-shadow:
        0 0 22px rgba(56,189,248,0.8),
        0 0 40px rgba(15,23,42,1);
}

/* Generic h1 in pages (keep them strong but not overpowering) */
.main h1,
h1[style] {
    color: var(--nb-heading) !important;
}

/* Keep header / nav clean on dark background */
.header,
.nav,
.nav a {
    background: transparent;
}

/* Basic styling for hero buttons used in home/about nav */
.hero-btn {
    display: inline-block;
    padding: 0.6rem 1.3rem;
    border-radius: 999px;
    border: 1px solid rgba(148,163,184,0.5);
    font-size: 0.95rem;
    text-transform: lowercase;
    letter-spacing: 0.08em;
    font-weight: 500;
    margin: 0.15rem 0.25rem;
}

.hero-btn.primary {
    background: rgba(56,189,248,0.18);
    border-color: rgba(56,189,248,0.65);
}

.hero-btn.secondary {
    background: rgba(15,23,42,0.8);
}

.hero-btn.ghost {
    background: transparent;
}

/* ===========================================================
   4. UNIVERSAL BACKGROUND SECTION "FUNCTION"
      (make_bg + semantic bg_* classes)
   =========================================================== */

.make_bg {
    /* ---- default variables ---- */
    --bg-image: none;
    --bg-size: cover;
    --bg-position: center;
    --bg-repeat: no-repeat;

    --bg-overlay-color: rgba(15,23,42,0.45);
    --bg-overlay-blur: 4px;

    --bg-padding: 2rem 1.8rem;
    --bg-radius: 14px;
    --bg-min-height: 580px;

    /* ---- container ---- */
    position: relative;
    overflow: hidden;

    background-image: var(--bg-image);
    background-size: var(--bg-size);
    background-position: var(--bg-position);
    background-repeat: var(--bg-repeat);
    background-color: #020617; /* fallback */

    padding: var(--bg-padding);
    border-radius: var(--bg-radius);
    min-height: var(--bg-min-height);
    margin-bottom: 2.2rem;

    /* text / typography when used as a content block */
    font-family: system-ui, -apple-system, BlinkMacSystemFont,
                 "Inter", "Roboto", "Segoe UI", sans-serif;
    font-weight: 400;
    line-height: 1.7;
    text-shadow: 0 1px 2px rgba(0,0,0,0.35);
    box-shadow: 0 18px 40px rgba(0,0,0,0.72);
    border: 1px solid rgba(148,163,184,0.18);
}

/* Overlay layer */
.make_bg::before {
    content: "";
    position: absolute;
    inset: 0;

    background: var(--bg-overlay-color);
    backdrop-filter: blur(var(--bg-overlay-blur));

    z-index: 0;
}

/* Foreground content above overlay */
.make_bg > * {
    position: relative;
    z-index: 1;
}

/* Typography inside background sections */
.make_bg * ,
.make_bg p,
.make_bg li,
.make_bg span {
    letter-spacing: 0.02em;
    color: #f9fafb;
}

/* Headers inside bg blocks */
.make_bg h1,
.make_bg h2,
.make_bg h3 {
    font-weight: 700;
    color: var(--nb-blue);
    text-shadow: 0 0 12px rgba(56,189,248,0.7);
}

/* Optional subtle border glow on hover (desktop) */
.make_bg:hover {
    border-color: rgba(56,189,248,0.55);
    box-shadow: 0 26px 60px rgba(0,0,0,0.85);
}

/* ===========================================================
   5. SEMANTIC BACKGROUND VARIANTS
   (attach these WITH make_bg)
   =========================================================== */

/* Home hero or intro block */
.bg_home {
    --bg-image: url('/images/bg0.png');
    --bg-overlay-color: rgba(15,23,42,0.55);
    --bg-size: cover;
    --bg-position: center;
}

/* About page background */
.bg_about {
    --bg-image: url('/images/bg4.png');
    --bg-overlay-color: rgba(15,23,42,0.52);
    --bg-size: cover;
    --bg-position: center;
}

/* CV / Resume page background */
.bg_cv {
    --bg-image: url('/images/bg11.jpg');
    --bg-overlay-color: rgba(15,23,42,0.58);
    --bg-size: cover;
    --bg-position: center top;
}

/* Projects overview page background */
.bg_projects {
    --bg-image: url('/images/bg12.jpg');
    --bg-overlay-color: rgba(15,23,42,0.50);
    --bg-size: cover;
    --bg-position: center;
}

/* Research page background */
.bg_research {
    --bg-image: url('/images/bg3.png');
    --bg-overlay-color: rgba(15,23,42,0.55);
    --bg-size: cover;
    --bg-position: center;
}

/* Blog / posts listing background */
.bg_blog {
    --bg-image: url('/images/bg2.jpg');
    --bg-overlay-color: rgba(15,23,42,0.50);
    --bg-size: cover;
    --bg-position: center;
}

/* Contact page background */
.bg_contact {
    --bg-image: url('/images/bg4.png');
    --bg-overlay-color: rgba(15,23,42,0.60);
    --bg-size: cover;
    --bg-position: center;
}

/* Example: markets / economics themed block */
.bg_markets {
    --bg-image: url('/images/market.png');
    --bg-overlay-color: rgba(15,23,42,0.60);
    --bg-size: cover;
    --bg-position: center;
}

/* If you have a very tall figure */
.bg_tall_figure {
    --bg-size: contain;
    --bg-position: bottom center;
    --bg-min-height: 1000px;
}

/* ===========================================================
   6. LISTS, TABLES, CODE
   =========================================================== */

ul, ol {
    padding-left: 1.3rem;
}
li {
    margin: 0.1rem 0;
}

/* Tables */
table {
    width: 100%;
    border-collapse: collapse;
    margin: 1rem 0;
}

th, td {
    border: 1px solid var(--nb-border);
    padding: 0.5rem 0.75rem;
}

th {
    background: #020617;
    color: var(--nb-blue-soft);
    font-weight: 600;
}

/* Code blocks */
pre, code {
    font-family: "JetBrains Mono", ui-monospace, SFMono-Regular,
                 Menlo, Monaco, Consolas, "Liberation Mono", "Courier New",
                 monospace;
}

pre {
    background: #020617;
    border-radius: 10px;
    padding: 0.8rem 1rem;
    border: 1px solid rgba(148,163,184,0.35);
    box-shadow: 0 12px 30px rgba(0,0,0,0.65);
    overflow-x: auto;
}

p code, li code {
    background: rgba(15,23,42,0.9);
    border-radius: 4px;
    padding: 0.1rem 0.3rem;
    color: var(--nb-blue-soft);
}

/* ===========================================================
   7. RESPONSIVE TWEAKS (MOBILE)
   =========================================================== */

@media (max-width: 768px) {

    body {
        font-size: 0.96rem;
        line-height: 1.7;
    }

    .main {
        max-width: 100%;
        padding: 1rem 0.9rem 2.5rem;
    }

    .post-entry,
    .single .post-content,
    .page .post-content,
    .list .post-entry {
        border-radius: 12px;
        box-shadow: 0 10px 28px rgba(0,0,0,0.78);
    }

    .make_bg {
        /* pull slightly to the edges, but not full-bleed */
        margin: 0 -0.2rem 1.5rem;
        padding: 1.25rem 1rem 1.8rem;
        --bg-min-height: 0; /* let height be content-driven on mobile */
        min-height: auto;
        border-radius: 12px;
        box-shadow: 0 14px 32px rgba(0,0,0,0.82);
    }

    .home h1 {
        font-size: 1.75rem;
    }

    h1 {
        font-size: 1.7rem;
    }

    h2 {
        font-size: 1.25rem;
    }

    /* Make hero buttons easier to tap and wrap nicely */
    .hero-btn {
        display: inline-block;
        padding: 0.55rem 1.05rem;
        font-size: 0.9rem;
        margin: 0.2rem 0.18rem;
    }

    /* Ensure images in centered containers never overflow */
    .make_bg img {
        max-width: 100%;
        height: auto;
    }
}

/* Even tighter on very small phones */
@media (max-width: 480px) {
    .main {
        padding: 0.8rem 0.75rem 2.2rem;
    }

    .make_bg {
        margin: 0 -0.1rem 1.3rem;
        padding: 1.1rem 0.85rem 1.6rem;
    }

    .home h1 {
        font-size: 1.55rem;
    }
}

/* ===========================================================
   8. UNIVERSAL SECTION TEMPLATE (optional)
   =========================================================== */

.section-bg {
    --bg-image: url('/images/bg2.jpg');
    --overlay-color: rgba(15, 23, 42, 0.35);
    --overlay-blur: 3px;
    --bg-size: cover;
    --bg-position: center;
    --bg-min-height: 600px;

    background-image: var(--bg-image);
    background-size: var(--bg-size);
    background-position: var(--bg-position);
    background-repeat: no-repeat;

    padding: 2rem 1.6rem;
    border-radius: 14px;
    min-height: var(--bg-min-height);

    position: relative;
    overflow: hidden;
}

/* overlay */
.section-bg::before {
    content: "";
    position: absolute;
    inset: 0;
    background: var(--overlay-color);
    backdrop-filter: blur(var(--overlay-blur));
    z-index: 0;
}

/* content above overlay */
.section-bg > * {
    position: relative;
    z-index: 1;
}

/* ---------- section-with-bg3 (bg3.png) ---------- */

.section-with-bg3 {
    background-image: url('/images/bg3.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: local;

    padding: 2rem 1.6rem;
    border-radius: 14px;
    position: relative;
    overflow: hidden;
}

/* overlay */
.section-with-bg3::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at top left,
                  rgba(15, 23, 42, 0.35) 45%,
                  rgba(15, 23, 42, 0.35) 45%,
                  rgba(15, 23, 42, 0.35) 45%);
    backdrop-filter: blur(4px);
    z-index: 0;
}

.section-with-bg3 > * {
    position: relative;
    z-index: 1;
}

/* ===========================================================
   9. CORNER LOGO
   =========================================================== */

.corner-logo {
    position: fixed;
    bottom: 1.5rem;
    right: 1.5rem;
    z-index: 9999;
    opacity: 0.85;
}

.corner-logo img {
    height: 40px;
    width: auto;
    border-radius: 50%; /* remove if you want square */
    box-shadow: 0 10px 25px rgba(0,0,0,0.8);
}

/* ===========================================================
   CV PAGE — proportional icons + clean cards
   (keeps PaperMod/Hugo safe; no external libs)
   =========================================================== */

.cv-hero { --bg-min-height: 320px; }
.cv-section { --bg-min-height: 0px; }

.cv-top {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 1.2rem;
    flex-wrap: wrap;
}

.cv-name {
    margin: 0 0 0.2rem 0;
    line-height: 1.15;
}

.cv-tagline {
    color: var(--nb-text);
    opacity: 0.92;
    margin-bottom: 0.6rem;
}

.cv-contact {
    display: flex;
    flex-wrap: wrap;
    gap: 0.55rem;
    align-items: center;
}

.cv-dot { opacity: 0.55; }

.cv-contact-item {
    display: inline-flex;
    align-items: center;
    gap: 0.45rem;
    white-space: nowrap;
}

/* SMALL icons (this fixes your “big icons” issue) */
.cv-ico {
    width: 14px;
    height: 14px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: var(--nb-blue-soft);
    opacity: 0.95;
    transform: translateY(0.5px);
}

.cv-ico svg {
    width: 14px;
    height: 14px;
    display: block;
}

.cv-actions { display: flex; gap: 0.6rem; }

.cv-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.62rem 0.9rem;
    border-radius: 12px;
    border: 1px solid rgba(125,211,252,0.32);
    background: rgba(2,6,23,0.45);
    text-decoration: none !important;
    font-weight: 600;
}

.cv-btn.primary {
    border-color: rgba(56,189,248,0.55);
    box-shadow: 0 10px 26px rgba(0,0,0,0.35);
}

.cv-grid {
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 1.2rem;
    margin-top: 0.8rem;
}

.cv-card {
    padding: 1rem 1rem;
    border-radius: 14px;
    border: 1px solid rgba(148,163,184,0.18);
    background: rgba(2,6,23,0.26);
}

.cv-card h3 {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin: 0 0 0.5rem 0;
    font-size: 1.05rem;
}

/* Course table tweaks (keeps your global table styling) */
.cv-table th, .cv-table td {
    padding: 0.65rem 0.7rem;
    vertical-align: top;
}
.cv-table td a { text-decoration: none; }
.cv-table td a:hover { text-decoration: underline; }

/* Mobile */
@media (max-width: 920px) {
    .cv-grid { grid-template-columns: 1fr; }
    .cv-actions { width: 100%; }
}


/* CV external / organization links */
.cv-link {
    color: var(--nb-blue);
    font-weight: 500;
    text-decoration: none;
    border-bottom: 1px solid rgba(56, 189, 248, 0.35);
}

.cv-link:hover {
    color: var(--nb-blue-soft);
    border-bottom-color: var(--nb-blue);
}

